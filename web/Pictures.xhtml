<ui:composition xmlns="http://www.w3.org/1999/xhtml"  
                xmlns:h="http://java.sun.com/jsf/html"  
                xmlns:f="http://java.sun.com/jsf/core"  
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui" template="/templates/default/main.xhtml">
    <ui:define name="content">   
        <f:metadata>                            
            <f:event listener="#{picturesManagementController.initPicture()}" type="preRenderView"/>
        </f:metadata>

        <h1 class="page-header "> <i class="fa fa-tachometer"></i>ثبت نام</h1>
        <p:panelGrid columns="2" columnClasses="ui-grid-col-2,ui-grid-col-6" layout="grid" styleClass="ui-panelgrid-blank">
            <p:outputLabel  value="نام    " for="name" />
            <p:inputText  id="name" value="#{picturesManagementController.name}" required="true"  requiredMessage="عنوان عکس  را وارد کنید"/>
            <p:outputLabel  value="درباره عکس " for="title" />
            <p:inputText  id="title"  value="#{picturesManagementController.title}" required="true" requiredMessage="شرح مختصر عکس را وارد کنید"/>
            <p:outputLabel  value="شرح کامل عکس   " for="description" />
            <p:inputText  id="description" value="#{picturesManagementController.description}" required="true" requiredMessage="شرح کامل را وارد کنید"/>
            <p:outputLabel  value="زمان عکاسی   " for="photoDate" />
            <p:inputText  id="photoDate" value="#{picturesManagementController.photoDate}" required="true" requiredMessage="تاریخ عکاسی را وارد کنید"/>


            <h:form>
                <p:fileUpload fileUploadListener="#{picturesManagementController.handleFileUpload}" mode="advanced" dragDropSupport="false"
                              update="messages" sizeLimit="100000" fileLimit="3" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
            </h:form>


            <p:selectManyCheckbox id="categorys" value="#{picturesManagementController.selectedCategoryIdsList}" layout="responsive" columns="3">
                <f:selectItems value="#{picturesManagementController.categorys}" var="category" itemLabel="#{category.catName}" itemValue="#{category.id}" />
            </p:selectManyCheckbox>
            <p:outputLabel  value=""/>
            <p:commandButton id="singUpButton" action="#{picturesManagementController.addPictures()}" value="تایید"/>                      
        </p:panelGrid>
        <p:focus for="name" />
        <p:defaultCommand target="singUpButton" />                      			
    </ui:define>
</ui:composition>   












